<h2><a href=https://www.codewars.com/kata/54b058ce56f22dc6fe0011df/train/javascript target="_blank">Memoized Log Cutting</a></h2><h3>4 kyu</h3><hr><h2 id="clear-cutters-needs-your-help">CLEAR CUTTER'S NEEDS YOUR HELP!</h2><hr><p>The logging company Clear Cutter's makes its money by optimizing the price-to-length of each log they cut before selling them. An example of one of their price tables is included:</p><pre><code class="language-python"><span class="cm-comment"># So a price table p</span><span class="cm-variable">p</span> <span class="cm-operator">=</span> [ <span class="cm-number">0</span>,  <span class="cm-number">1</span>,  <span class="cm-number">5</span>,  <span class="cm-number">8</span>,  <span class="cm-number">9</span>, <span class="cm-number">10</span>]<span class="cm-comment"># Can be imagined as:</span><span class="cm-comment"># length i | 0  1  2  3  4  5 *in feet*</span><span class="cm-comment"># price pi | 0  1  5  8  9 10 *in money*</span></code></pre><p>They hired an intern last summer to create a recursive function for them to easily calculate the most profitable price for a log of length <em>n</em> using price table <em>p</em> as follows:</p><pre style="display: none;"><code class="language-python"><span class="cm-keyword">def</span> <span class="cm-def">cut_log</span>(<span class="cm-variable">p</span>, <span class="cm-variable">n</span>):    <span class="cm-keyword">if</span> (<span class="cm-variable">n</span> <span class="cm-operator">==</span> <span class="cm-number">0</span>):        <span class="cm-keyword">return</span> <span class="cm-number">0</span>    <span class="cm-variable">q</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-number">1</span>    <span class="cm-keyword">for</span> <span class="cm-variable">i</span> <span class="cm-keyword">in</span> <span class="cm-builtin">range</span>(<span class="cm-number">1</span>, <span class="cm-variable">n</span><span class="cm-operator">+</span><span class="cm-number">1</span>):        <span class="cm-variable">q</span> <span class="cm-operator">=</span> <span class="cm-builtin">max</span>(<span class="cm-variable">q</span>, <span class="cm-variable">p</span>[<span class="cm-variable">i</span>] <span class="cm-operator">+</span> <span class="cm-variable">cut_log</span>(<span class="cm-variable">p</span>, <span class="cm-variable">n</span><span class="cm-operator">-</span><span class="cm-variable">i</span>))    <span class="cm-keyword">return</span> <span class="cm-variable">q</span></code></pre><pre><code class="language-javascript"><span class="cm-keyword">function</span> <span class="cm-def">cutLog</span>(<span class="cm-def">p</span>, <span class="cm-def">n</span>) {  <span class="cm-keyword">if</span> (<span class="cm-variable-2">n</span> <span class="cm-operator">==</span> <span class="cm-number">0</span>) <span class="cm-keyword">return</span> <span class="cm-number">0</span>;  <span class="cm-keyword">let</span> <span class="cm-def">q</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-number">1</span>;  <span class="cm-keyword">for</span> (<span class="cm-keyword">let</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable-2">n</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>) {    <span class="cm-variable-2">q</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">max</span>(<span class="cm-variable-2">q</span>, <span class="cm-variable-2">p</span>[<span class="cm-variable-2">i</span>] <span class="cm-operator">+</span> <span class="cm-variable">cutLog</span>(<span class="cm-variable-2">p</span>, <span class="cm-variable-2">n</span> <span class="cm-operator">-</span> <span class="cm-variable-2">i</span>));  }  <span class="cm-keyword">return</span> <span class="cm-variable-2">q</span>;}</code></pre><pre style="display: none;"><code class="language-haskell"><span class="cm-variable">cutLog</span> <span class="cm-keyword">_</span> <span class="cm-number">0</span> <span class="cm-keyword">=</span> <span class="cm-number">0</span><span class="cm-variable">cutLog</span> <span class="cm-variable">prices</span> <span class="cm-variable">l</span> <span class="cm-keyword">=</span> <span class="cm-builtin">maximum</span> <span class="cm-builtin">$</span> <span class="cm-builtin">zipWith</span> ( <span class="cm-keyword">\</span> <span class="cm-variable">i</span> <span class="cm-variable">price</span> <span class="cm-keyword">-&gt;</span> <span class="cm-variable">price</span> <span class="cm-builtin">+</span> <span class="cm-variable">cutLog</span> <span class="cm-variable">prices</span> (<span class="cm-variable">l</span><span class="cm-builtin">-</span><span class="cm-variable">i</span>) ) [<span class="cm-number">1</span><span class="cm-keyword">..</span><span class="cm-variable">l</span>] (<span class="cm-builtin">tail</span> <span class="cm-variable">prices</span>)</code></pre><pre style="display: none;"><code class="language-dart"><span class="cm-builtin">int</span> <span class="cm-variable">cutLog</span>(<span class="cm-variable-2">List</span><span class="cm-operator">&lt;</span><span class="cm-builtin">int</span><span class="cm-operator">&gt;</span> <span class="cm-variable">p</span>, <span class="cm-builtin">int</span> <span class="cm-variable">n</span>) {  <span class="cm-keyword">if</span> (<span class="cm-variable">n</span> <span class="cm-operator">==</span> <span class="cm-number">0</span>) <span class="cm-keyword">return</span> <span class="cm-number">0</span>;  <span class="cm-builtin">int</span> <span class="cm-variable">q</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-number">1</span>;  <span class="cm-keyword">for</span> (<span class="cm-builtin">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">n</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {    <span class="cm-variable">q</span> <span class="cm-operator">=</span> <span class="cm-variable">max</span>(<span class="cm-variable">q</span>, <span class="cm-variable">p</span>[<span class="cm-variable">i</span>] <span class="cm-operator">+</span> <span class="cm-variable">cutLog</span>(<span class="cm-variable">p</span>, <span class="cm-variable">n</span> <span class="cm-operator">-</span> <span class="cm-variable">i</span>));  }  <span class="cm-keyword">return</span> <span class="cm-variable">q</span>;}</code></pre><p>An example of the working code:</p><pre style="display: none;"><code class="language-python"><span class="cm-variable">cut_log</span>(<span class="cm-variable">p</span>, <span class="cm-number">5</span>) <span class="cm-comment"># =&gt; 13</span><span class="cm-comment"># 5ft = $10, BUT 2ft + 3ft = 5ft -&gt; $5 + $8 = $13 which is greater in value</span></code></pre><pre style="display: none;"><code class="language-haskell"><span class="cm-variable">cutLog</span> <span class="cm-variable">prices</span> <span class="cm-number">5</span>  <span class="cm-keyword">-&gt;</span>  <span class="cm-number">13</span><span class="cm-comment">-- 5ft = $10, BUT 2ft + 3ft = 5ft -&gt; $5 + $8 = $13 which is greater in value</span></code></pre><p>However, their senior software engineer realized that the number of recursive calls in the function gives it an awful running time of 2^n (as this function iterates through ALL 2^n-1 possibilities for a log of length n).</p><p>Having discovered this problem just as you've arrived for your internship, he responsibly delegates the issue to you.</p><p>Using the power of Stack Overflow and Google, he wants you to create a solution that runs in Î˜(n^2) time so that it doesn't take 5 hours to calculate the optimal price for a log of size 50. (He also suggests to research the problem using the keywords in the tags)</p><p><strong>(Be aware that if your algorithm is not efficient, it will attempt to look at 2^49 = 562949953421312 nodes instead of 49^2 = 2401... The solution will automatically fail if it takes longer than 6 seconds... which occurs at right around Log 23)</strong></p>